spring.application.name=clamav-web-client

spring.servlet.multipart.max-file-size=2048MB
spring.servlet.multipart.max-request-size=2048MB

server.tomcat.max-swallow-size=2048MB
# --- Persistence (H2 by default; override via SPRING_DATASOURCE_URL for Postgres etc.) ---
spring.datasource.url=jdbc:h2:file:./data/clamav-web-client;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.h2.console.enabled=true
spring.h2.console.path=/h2

# --- Errors (UI-friendly) ---
# We render a custom error page. Include the message so users can self-diagnose misconfigurations.
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never

# --- Actuator ---
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when_authorized

# --- App security ---
# Default admin user is created on first run if no users exist:
#   username: admin
#   password: admin
# Change immediately via Admin -> Users.
